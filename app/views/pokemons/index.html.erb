<h1>Pokedex</h1>

<!-- Optional 2: search bar -->
<%= form_with url: pokemons_path, method: :get, local: true do |f| %>
  <div class="field">
    <%= f.label :q, "Search PokÃ©mon" %>
    <%= f.text_field :q, value: @query, placeholder: "e.g. Pikachu" %>
    <%= f.submit "Search" %>
    <% if @query.present? %>
      <%= link_to "Clear", pokemons_path %>
    <% end %>
  </div>
<% end %>

<!-- Optional 4: random pokemon -->
<p><%= link_to "ðŸŽ² Random PokÃ©mon", random_pokemons_path, class: "button" %></p>

<div class="grid">
  <% @pokemons.each do |pokemon| %>
    <div class="card">
      <% if pokemon.photo.attached? %>
        <%= cl_image_tag pokemon.photo.key, alt: pokemon.name, width: 200, height: 200, crop: :fill %>
      <% end %>
      <h2><%= link_to pokemon.name, pokemon_path(pokemon) %></h2>
      <p>Type: <%= pokemon.element_type.capitalize %></p>
    </div>
  <% end %>
</div>
